package hadoop.wordcount;
import org.apache.hadoop.mapreduce.Mapper;

eventclass Hadoop{
	automaton mapReduce(){
		start init: (setupEvent -> stop);
		end stop;
	}
	
	group localGroup{
		localhost
	}
	
	event setupEvent(): execution(* WordCount2.TokenizerMapper.setup(org.apache.hadoop.mapreduce.Mapper.Context));
	
	reaction before mapReduce.stop{
		long time = System.currentTimeMillis();
		System.out.println(System.currentTimeMillis());
		SingletonTime singleton = SingletonTime.getInstance();
		singleton.setTiempoInicial(time);
	}
}